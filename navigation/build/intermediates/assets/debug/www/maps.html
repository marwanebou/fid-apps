<!DOCTYPE html>
<html>
    <head>
	    <meta charset="utf-8" />
		<meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, target-densitydpi=medium-dpi" />
        <link rel="stylesheet"  href="libs/jQM-flat/jquery.mobile.flatui.css">
        <script type="text/javascript" src="libs/fastclick.min.js"></script>
        <script type="text/javascript" src="libs/jquery-2.0.3.min.js"></script>
        <script type="text/javascript" src="libs/jQueryMobile/jquery.mobile-1.3.2.min.js"></script>
        <link rel="stylesheet" type="text/css" href="css/maps.css">
	    <script src="js/jquery-1.11.3.min.js"></script>
		<script src="js/jquery.mobile-1.4.5.min.js"></script>
		<script type="text/javascript" src="js/soapclient.js"></script>
		<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
<style>
#map_wrapper {
    height: 80%;
}
#map_canvas {
    width: 100%;
    height: 100%;
}
</style>

   </head>
    <body>
       <div data-role="page" id="map-page" data-url="map-page">
		    <div data-role="header" data-theme="a" data-position="fixed">
		    	<h1>Maps</h1>
		    </div>
			<div id="map_wrapper">
				<div id="map-canvas" class="mapping"></div>
			</div>
		  <div data-role="footer" data-position="fixed">
    <div id="navbar" data-role="navbar">
                        <ul>
                            <li><a id="map-button" onclick=window.location.href='maps.html' data-icon="flat-location"  data-theme="b" >Map</a></li>
                            <li><a id="list-button" onclick=window.location.href='index.html' data-icon="flat-menu">List</a></li>
						</ul>
                    </div>
  </div>
		</div>
		<script>
$( document ).on( "pagecreate", "#map-page", function() {
function success(pos) {
/*
var url1= "http://ws-ifsproject2016.rhcloud.com/server.php/Affiche_restaurant";
var pl = new SOAPClientParameters();
SOAPClient.invoke(url1,"Affiche_restaurant", pl, false, restau_callBack);
function restau_callBack(a)
{
var restaurant = a.restaurant;
*/
       var options = 
                {
                    zoom: 10,
                    center: new google.maps.LatLng(47.0983425, 0.3267434), // centered US
                    mapTypeId: google.maps.MapTypeId.TERRAIN,
                    mapTypeControl: false
                };

                // init map
                var map = new google.maps.Map(document.getElementById('map-canvas'), options);
                // set multiple marker
				var longitude = 34.0983425;
				var latitude = -118.3267434;
      //var mytabex=restaurant.split("#");
	  var i=0;
      while (i<4) 
	  {
					latitude=latitude + 0.041;
					longitude=longitude + 1;
                    // init markers
                    var marker = new google.maps.Marker({
                        position: new google.maps.LatLng(latitude, longitude),
                        map: map,
                        title: 'Click Me ' + i
                    });

                    // process multiple info windows
                    (function(marker, i) {
                        // add click event
                        google.maps.event.addListener(marker, 'click', function() {
                            infowindow = new google.maps.InfoWindow({
                                content: 'adresse'
                            });
                            infowindow.open(map, marker);
                        });
                    })(marker, i);
					i=i+1;
        /*}*/
}
}
function fail(error) {
alert("erreur");
}
// Find the users current position.  Cache the location for 5 minutes, timeout after 6 seconds
navigator.geolocation.getCurrentPosition(success, fail);
});
		</script>
		
        <script type="text/javascript" src="cordova.js"></script>
    </body>
</html>
